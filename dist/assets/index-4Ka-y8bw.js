(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const e of t)if(e.type==="childList")for(const n of e.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&r(n)}).observe(document,{childList:!0,subtree:!0});function a(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?e.credentials="include":t.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function r(t){if(t.ep)return;t.ep=!0;const e=a(t);fetch(t.href,e)}})();function U(o,s=1){return o/s*2-1}function pt(o,s,a,r,t,e){for(let n=t;n<e;n+=4){const u=n/4,h=u%s,p=Math.trunc(u/s),y=(h+.5)/(s/2)-1,M=1-(p+.5)/(s/2);o.set(a(y,M,r),n)}}function yt(o,s,a,r){return new Uint8Array([o*255,s*255,a*255,r*255])}function gt(o,s,a){const r=a.t;let t=o/.7,e=s/.7,n=.2;const u=-1,h=1,p=t-n*u,y=e-n*h,M=p*p+y*y,F=.1+n/(M+1e-9),G=u/F,W=h/F,i=t*1+e*1,d=t*G+e*W,E=i*i+d*d,b=.5*Math.log(Math.max(E,1e-9))+r*n,q=Math.cos(b),Z=Math.cos(b+33),H=Math.cos(b+11),J=q;let g=(i*q+d*Z)/n,_=(i*H+d*J)/n,v=0,O=0;for(;n<9;){n+=1;const I=_*n+r,L=g*n+r;g+=.7*Math.sin(I)/n+.5,_+=.7*Math.sin(L)/n+.5,v+=1+Math.sin(g),O+=1+Math.sin(_)}const Q=Math.sin(g/.3)*.4,V=Math.sin(_/.3)*.4,k=i*2,tt=d*4,R=Q+k,N=V+tt,S=Math.sqrt(R*R+N*N),et=i*.6,nt=i*-.4,ot=i*-1,st=0,rt=v,ct=O,at=O,it=v,lt=2+S*S/4-S,ut=.5+1/(E+1e-9),dt=Math.sqrt(t*t+e*e),ft=.03+Math.abs(dt-.7),mt=lt*ut*ft;function x(I,L){const ht=-Math.exp(I)/(L*mt+1e-9);return 1-Math.exp(ht)}return yt(x(et,rt),x(nt,ct),x(ot,at),x(st,it))}const _t=gt,$=720/devicePixelRatio,c=320,xt=c>$?1:$/c,m=document.querySelector("canvas",{alpha:!1,willReadFrequently:!1});m.width=c;m.height=c;m.style.setProperty("--size",c);m.style.setProperty("--scale",xt);const wt=document.getElementById("fps"),Mt=m.getContext("2d"),A=c**2*4,D=crossOriginIsolated?new SharedArrayBuffer(A):new ArrayBuffer(A),f=new Uint8ClampedArray(D),T=crossOriginIsolated?new Uint8ClampedArray(A):f,bt=new ImageData(T,c,c);let P=0,B=0,X=0,Y=0;window.addEventListener("mousemove",o=>{X=U(o.clientX,1920),Y=U(o.clientY,1080)});console.log({crossOriginIsolated});const vt=navigator.hardwareConcurrency??4,l=crossOriginIsolated?vt-1:0,w=Math.trunc(f.byteLength/(l+1)),K=Array.from({length:l},()=>new Worker(new URL("/assets/run-DfGcvdFK.js",import.meta.url),{type:"module"}));let C=0,j=null;K.forEach(o=>{o.addEventListener("message",s=>{C++,C===l&&j()}),o.postMessage(["init",D,c])});async function z(o=0){const s=performance.now();let a;if(l>0&&(a=new Promise(r=>{j=r}),K.forEach((r,t)=>r.postMessage(["runShader",{t:o/1e3},t*w,t*w+w]))),pt(f,c,_t,{t:o/1e3,mouseX:X,mouseY:Y},w*l,f.byteLength),l>0&&(await a,C=0),P%10===0){const r=performance.now()-s,t=o-B,e=t>0?1e3/t:0;wt.innerText=`FPS: ${e.toFixed(1)}, Render: ${r.toFixed(2)}ms, Threads: ${l+1}, Res: ${c}px`,P=0}B=o,P++,T.set(f),Mt.putImageData(bt,0,0),requestAnimationFrame(z)}z();
